系统设计

- 一天爬一千万条文章，怎么做设计？怎么并行协调？100 台服务器怎么尽可能负载均衡？ 
- 怎么设计一个秒杀系统？怎么解决大并发？ 
- 设计一个抢红包系统，要注意哪些点 
- 设计一个微博社交系统，怎么更高效，索引怎么设计、提高效率，查询扫描行数，缓存设计 
- 在 java 里手动实现一个生产者、消费者模型 
- 设计一个视频上传的流程。表设计？文件上传服务器的原理？cdn？高qps怎么处理？上传和请求？缓存怎么加？ 
- 有什么分布式 id 生成方法？各自的优缺点是什么？ 
- 反羊毛怎么做？ 
- 设计一个简单的智能家具系统，比如说加湿器和温湿度传感器关联，怎么设计？考虑哪些点？ 
- 设计一个登陆过程。md5 的原理？可逆么？



oauth2

微信小程序登录流程

jwt

es

### 单点登录

用户请求A，A查session没查到登录状态，重定向到SSO。SSO查session没查到登录状态。

用户登录，将token存到session（key：log in）

用户再次请求A或B系统，重定向到SSO，通过session拿到token，后将token转发到A系统，A系统向SSO验证，成功后将token存到局部session（key：log in），后通过拦截。下一次再访问，查局部session，有则表明已登录。





